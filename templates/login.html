{% extends 'base.html' %}
{% block content %}
<div class="row justify-content-center">
  <div class="col-md-5">
    <div class="text-center mb-4">
      <div style="font-size: 3rem;">‚ôî</div>
      <h1 class="mb-1">Welcome Back</h1>
      <p class="text-muted">Sign in to continue your training</p>
    </div>
    
    <div class="card p-4">
      <form method="post" id="loginForm">
        <div class="mb-3">
          <label class="form-label">Username</label>
          <input type="text" name="username" class="form-control form-control-lg" 
            placeholder="Enter your username" required autofocus>
        </div>
        
        <div class="mb-4">
          <label class="form-label">Password</label>
          <div class="position-relative">
            <input type="password" name="password" id="password" class="form-control form-control-lg" 
              placeholder="Enter your password" required>
            <button type="button" class="btn btn-link position-absolute end-0 top-50 translate-middle-y text-muted" 
              onclick="togglePassword()" style="text-decoration: none;">
              üëÅÔ∏è
            </button>
          </div>
        </div>
        
        <button type="submit" class="btn btn-primary btn-lg w-100 mb-3" id="submitBtn">
          Sign In
        </button>
        
        <div class="text-center">
          <span class="text-muted">Don't have an account?</span>
          <a href="{{ url_for('register') }}" class="ms-1">Create one</a>
        </div>
      </form>
    </div>
    
    <div class="text-center mt-4">
      <a href="{{ url_for('home') }}" class="text-muted small">‚Üê Back to home</a>
    </div>
  </div>
</div>

<script>
function togglePassword() {
  const input = document.getElementById('password');
  input.type = input.type === 'password' ? 'text' : 'password';
}

document.getElementById('loginForm').addEventListener('submit', function() {
  const btn = document.getElementById('submitBtn');
  btn.disabled = true;
  btn.innerHTML = '<span class="processing-indicator"><span class="processing-dot"></span><span class="processing-dot"></span><span class="processing-dot"></span></span> Signing in...';
});
</script>
{% endblock %}
