{% extends 'base.html' %}
{% block content %}
<h1>Welcome {{ username }}</h1>
<p>Upload <strong>.pgn</strong> files for your games. You may provide one or both files but at least one is required.</p>
<div class="border border-2 border-secondary p-4 text-center rounded">
    <form action="/upload" method="post" enctype="multipart/form-data" onsubmit="return validate()">
        <div class="mb-3">
            <label class="form-label">White games:<br><input type="file" name="white_pgn" class="form-control"></label>
        </div>
        <div class="mb-3">
            <label class="form-label">Black games:<br><input type="file" name="black_pgn" class="form-control"></label>
        </div>
        <input type="submit" class="btn btn-primary" value="Upload">
    </form>
    {% if error %}<div class="text-danger mt-2">{{ error }}</div>{% endif %}
</div>
<script>
function validate(){
    const w = document.querySelector('input[name="white_pgn"]').value;
    const b = document.querySelector('input[name="black_pgn"]').value;
    if(!w && !b){
        alert('Please select at least one PGN file.');
        return false;
    }
    return true;
}
</script>
{% endblock %}
